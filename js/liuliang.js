// draw_linechart("L_1246")
function draw_linechart(yuangong) {
  console.log(yuangong)
var name=["上行","下行"];/////////////////////////////
// alert(date_index);
d3.csv("data/liuliang_2/shang_"+date_index+".csv",function(data){
d3.csv("data/liuliang_2/xia_"+date_index+".csv",function(data_xia){
var mylineChart = echarts.init(document.getElementById('Content_geliuliang'),'dark');
var getWidth = function getWidth(){
        var wth = document.body.offsetWidth;
    return wth/1887*12;
    };
var seriesData=[];
    seriesData.push({
            name:name[0],
            type:'bar',
             stack: '总量1',
            // barGap: 0,
            // smooth:true,
            // areaStyle: {
            //     normal: {
            //         color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
            //             offset: 0,
            //             color: 'rgb(255, 158, 68)'
            //         }, {
            //             offset: 1,
            //             color: 'rgb(255, 70, 131)'
            //         }])
            //     }
            // },
            data:data.map(function(d){
                // return Math.log(parseInt(d[yuangong])+1)
                return parseInt(d[yuangong]);
            }),
       textStyle: {
              fontSize: getWidth() 
           }
        })

    seriesData.push({
            name:name[1],
            type:'bar',
             stack: '总量2',
             barGap:'-100%',
            data:data_xia.map(function(d){
                // return -Math.log(parseInt(d[yuangong])+1)
                return -parseInt(d[yuangong]);
            }),
       textStyle: {
              fontSize: getWidth() 
           }
        })
    console.log(seriesData)
var time_line;
var time_line_tian=["0:00","0:30","1:00","1:30","2:00","2:30","3:00","3:30","4:00","4:30","5:00","5:30","6:00","6:30","7:00","7:30","8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30"];
var time_line_yue=["2017/11/1 6:00","2017/11/1 7:00","2017/11/1 8:00","2017/11/1 9:00","2017/11/1 10:00","2017/11/1 11:00","2017/11/1 12:00","2017/11/1 13:00","2017/11/1 14:00","2017/11/1 15:00","2017/11/1 16:00","2017/11/1 17:00","2017/11/1 18:00","2017/11/1 19:00","2017/11/1 20:00","2017/11/1 21:00","2017/11/1 22:00","2017/11/1 23:00","2017/11/2 6:00","2017/11/2 7:00","2017/11/2 8:00","2017/11/2 9:00","2017/11/2 10:00","2017/11/2 11:00","2017/11/2 12:00","2017/11/2 13:00","2017/11/2 14:00","2017/11/2 15:00","2017/11/2 16:00","2017/11/2 17:00","2017/11/2 18:00","2017/11/2 19:00","2017/11/2 20:00","2017/11/2 21:00","2017/11/2 22:00","2017/11/2 23:00","2017/11/3 6:00","2017/11/3 7:00","2017/11/3 8:00","2017/11/3 9:00","2017/11/3 10:00","2017/11/3 11:00","2017/11/3 12:00","2017/11/3 13:00","2017/11/3 14:00","2017/11/3 15:00","2017/11/3 16:00","2017/11/3 17:00","2017/11/3 18:00","2017/11/3 19:00","2017/11/3 20:00","2017/11/3 21:00","2017/11/3 22:00","2017/11/3 23:00","2017/11/4 6:00","2017/11/4 7:00","2017/11/4 8:00","2017/11/4 9:00","2017/11/4 10:00","2017/11/4 11:00","2017/11/4 12:00","2017/11/4 13:00","2017/11/4 14:00","2017/11/4 15:00","2017/11/4 16:00","2017/11/4 17:00","2017/11/4 18:00","2017/11/4 19:00","2017/11/4 20:00","2017/11/4 21:00","2017/11/4 22:00","2017/11/4 23:00","2017/11/5 6:00","2017/11/5 7:00","2017/11/5 8:00","2017/11/5 9:00","2017/11/5 10:00","2017/11/5 11:00","2017/11/5 12:00","2017/11/5 13:00","2017/11/5 14:00","2017/11/5 15:00","2017/11/5 16:00","2017/11/5 17:00","2017/11/5 18:00","2017/11/5 19:00","2017/11/5 20:00","2017/11/5 21:00","2017/11/5 22:00","2017/11/5 23:00","2017/11/6 6:00","2017/11/6 7:00","2017/11/6 8:00","2017/11/6 9:00","2017/11/6 10:00","2017/11/6 11:00","2017/11/6 12:00","2017/11/6 13:00","2017/11/6 14:00","2017/11/6 15:00","2017/11/6 16:00","2017/11/6 17:00","2017/11/6 18:00","2017/11/6 19:00","2017/11/6 20:00","2017/11/6 21:00","2017/11/6 22:00","2017/11/6 23:00","2017/11/7 6:00","2017/11/7 7:00","2017/11/7 8:00","2017/11/7 9:00","2017/11/7 10:00","2017/11/7 11:00","2017/11/7 12:00","2017/11/7 13:00","2017/11/7 14:00","2017/11/7 15:00","2017/11/7 16:00","2017/11/7 17:00","2017/11/7 18:00","2017/11/7 19:00","2017/11/7 20:00","2017/11/7 21:00","2017/11/7 22:00","2017/11/7 23:00","2017/11/8 6:00","2017/11/8 7:00","2017/11/8 8:00","2017/11/8 9:00","2017/11/8 10:00","2017/11/8 11:00","2017/11/8 12:00","2017/11/8 13:00","2017/11/8 14:00","2017/11/8 15:00","2017/11/8 16:00","2017/11/8 17:00","2017/11/8 18:00","2017/11/8 19:00","2017/11/8 20:00","2017/11/8 21:00","2017/11/8 22:00","2017/11/8 23:00","2017/11/9 6:00","2017/11/9 7:00","2017/11/9 8:00","2017/11/9 9:00","2017/11/9 10:00","2017/11/9 11:00","2017/11/9 12:00","2017/11/9 13:00","2017/11/9 14:00","2017/11/9 15:00","2017/11/9 16:00","2017/11/9 17:00","2017/11/9 18:00","2017/11/9 19:00","2017/11/9 20:00","2017/11/9 21:00","2017/11/9 22:00","2017/11/9 23:00","2017/11/10 6:00","2017/11/10 7:00","2017/11/10 8:00","2017/11/10 9:00","2017/11/10 10:00","2017/11/10 11:00","2017/11/10 12:00","2017/11/10 13:00","2017/11/10 14:00","2017/11/10 15:00","2017/11/10 16:00","2017/11/10 17:00","2017/11/10 18:00","2017/11/10 19:00","2017/11/10 20:00","2017/11/10 21:00","2017/11/10 22:00","2017/11/10 23:00","2017/11/11 6:00","2017/11/11 7:00","2017/11/11 8:00","2017/11/11 9:00","2017/11/11 10:00","2017/11/11 11:00","2017/11/11 12:00","2017/11/11 13:00","2017/11/11 14:00","2017/11/11 15:00","2017/11/11 16:00","2017/11/11 17:00","2017/11/11 18:00","2017/11/11 19:00","2017/11/11 20:00","2017/11/11 21:00","2017/11/11 22:00","2017/11/11 23:00","2017/11/12 6:00","2017/11/12 7:00","2017/11/12 8:00","2017/11/12 9:00","2017/11/12 10:00","2017/11/12 11:00","2017/11/12 12:00","2017/11/12 13:00","2017/11/12 14:00","2017/11/12 15:00","2017/11/12 16:00","2017/11/12 17:00","2017/11/12 18:00","2017/11/12 19:00","2017/11/12 20:00","2017/11/12 21:00","2017/11/12 22:00","2017/11/12 23:00","2017/11/13 6:00","2017/11/13 7:00","2017/11/13 8:00","2017/11/13 9:00","2017/11/13 10:00","2017/11/13 11:00","2017/11/13 12:00","2017/11/13 13:00","2017/11/13 14:00","2017/11/13 15:00","2017/11/13 16:00","2017/11/13 17:00","2017/11/13 18:00","2017/11/13 19:00","2017/11/13 20:00","2017/11/13 21:00","2017/11/13 22:00","2017/11/13 23:00","2017/11/14 6:00","2017/11/14 7:00","2017/11/14 8:00","2017/11/14 9:00","2017/11/14 10:00","2017/11/14 11:00","2017/11/14 12:00","2017/11/14 13:00","2017/11/14 14:00","2017/11/14 15:00","2017/11/14 16:00","2017/11/14 17:00","2017/11/14 18:00","2017/11/14 19:00","2017/11/14 20:00","2017/11/14 21:00","2017/11/14 22:00","2017/11/14 23:00","2017/11/15 6:00","2017/11/15 7:00","2017/11/15 8:00","2017/11/15 9:00","2017/11/15 10:00","2017/11/15 11:00","2017/11/15 12:00","2017/11/15 13:00","2017/11/15 14:00","2017/11/15 15:00","2017/11/15 16:00","2017/11/15 17:00","2017/11/15 18:00","2017/11/15 19:00","2017/11/15 20:00","2017/11/15 21:00","2017/11/15 22:00","2017/11/15 23:00","2017/11/16 6:00","2017/11/16 7:00","2017/11/16 8:00","2017/11/16 9:00","2017/11/16 10:00","2017/11/16 11:00","2017/11/16 12:00","2017/11/16 13:00","2017/11/16 14:00","2017/11/16 15:00","2017/11/16 16:00","2017/11/16 17:00","2017/11/16 18:00","2017/11/16 19:00","2017/11/16 20:00","2017/11/16 21:00","2017/11/16 22:00","2017/11/16 23:00","2017/11/17 6:00","2017/11/17 7:00","2017/11/17 8:00","2017/11/17 9:00","2017/11/17 10:00","2017/11/17 11:00","2017/11/17 12:00","2017/11/17 13:00","2017/11/17 14:00","2017/11/17 15:00","2017/11/17 16:00","2017/11/17 17:00","2017/11/17 18:00","2017/11/17 19:00","2017/11/17 20:00","2017/11/17 21:00","2017/11/17 22:00","2017/11/17 23:00","2017/11/18 6:00","2017/11/18 7:00","2017/11/18 8:00","2017/11/18 9:00","2017/11/18 10:00","2017/11/18 11:00","2017/11/18 12:00","2017/11/18 13:00","2017/11/18 14:00","2017/11/18 15:00","2017/11/18 16:00","2017/11/18 17:00","2017/11/18 18:00","2017/11/18 19:00","2017/11/18 20:00","2017/11/18 21:00","2017/11/18 22:00","2017/11/18 23:00","2017/11/19 6:00","2017/11/19 7:00","2017/11/19 8:00","2017/11/19 9:00","2017/11/19 10:00","2017/11/19 11:00","2017/11/19 12:00","2017/11/19 13:00","2017/11/19 14:00","2017/11/19 15:00","2017/11/19 16:00","2017/11/19 17:00","2017/11/19 18:00","2017/11/19 19:00","2017/11/19 20:00","2017/11/19 21:00","2017/11/19 22:00","2017/11/19 23:00","2017/11/20 6:00","2017/11/20 7:00","2017/11/20 8:00","2017/11/20 9:00","2017/11/20 10:00","2017/11/20 11:00","2017/11/20 12:00","2017/11/20 13:00","2017/11/20 14:00","2017/11/20 15:00","2017/11/20 16:00","2017/11/20 17:00","2017/11/20 18:00","2017/11/20 19:00","2017/11/20 20:00","2017/11/20 21:00","2017/11/20 22:00","2017/11/20 23:00","2017/11/21 6:00","2017/11/21 7:00","2017/11/21 8:00","2017/11/21 9:00","2017/11/21 10:00","2017/11/21 11:00","2017/11/21 12:00","2017/11/21 13:00","2017/11/21 14:00","2017/11/21 15:00","2017/11/21 16:00","2017/11/21 17:00","2017/11/21 18:00","2017/11/21 19:00","2017/11/21 20:00","2017/11/21 21:00","2017/11/21 22:00","2017/11/21 23:00","2017/11/22 6:00","2017/11/22 7:00","2017/11/22 8:00","2017/11/22 9:00","2017/11/22 10:00","2017/11/22 11:00","2017/11/22 12:00","2017/11/22 13:00","2017/11/22 14:00","2017/11/22 15:00","2017/11/22 16:00","2017/11/22 17:00","2017/11/22 18:00","2017/11/22 19:00","2017/11/22 20:00","2017/11/22 21:00","2017/11/22 22:00","2017/11/22 23:00","2017/11/23 6:00","2017/11/23 7:00","2017/11/23 8:00","2017/11/23 9:00","2017/11/23 10:00","2017/11/23 11:00","2017/11/23 12:00","2017/11/23 13:00","2017/11/23 14:00","2017/11/23 15:00","2017/11/23 16:00","2017/11/23 17:00","2017/11/23 18:00","2017/11/23 19:00","2017/11/23 20:00","2017/11/23 21:00","2017/11/23 22:00","2017/11/23 23:00","2017/11/24 6:00","2017/11/24 7:00","2017/11/24 8:00","2017/11/24 9:00","2017/11/24 10:00","2017/11/24 11:00","2017/11/24 12:00","2017/11/24 13:00","2017/11/24 14:00","2017/11/24 15:00","2017/11/24 16:00","2017/11/24 17:00","2017/11/24 18:00","2017/11/24 19:00","2017/11/24 20:00","2017/11/24 21:00","2017/11/24 22:00","2017/11/24 23:00","2017/11/25 6:00","2017/11/25 7:00","2017/11/25 8:00","2017/11/25 9:00","2017/11/25 10:00","2017/11/25 11:00","2017/11/25 12:00","2017/11/25 13:00","2017/11/25 14:00","2017/11/25 15:00","2017/11/25 16:00","2017/11/25 17:00","2017/11/25 18:00","2017/11/25 19:00","2017/11/25 20:00","2017/11/25 21:00","2017/11/25 22:00","2017/11/25 23:00","2017/11/26 6:00","2017/11/26 7:00","2017/11/26 8:00","2017/11/26 9:00","2017/11/26 10:00","2017/11/26 11:00","2017/11/26 12:00","2017/11/26 13:00","2017/11/26 14:00","2017/11/26 15:00","2017/11/26 16:00","2017/11/26 17:00","2017/11/26 18:00","2017/11/26 19:00","2017/11/26 20:00","2017/11/26 21:00","2017/11/26 22:00","2017/11/26 23:00","2017/11/27 6:00","2017/11/27 7:00","2017/11/27 8:00","2017/11/27 9:00","2017/11/27 10:00","2017/11/27 11:00","2017/11/27 12:00","2017/11/27 13:00","2017/11/27 14:00","2017/11/27 15:00","2017/11/27 16:00","2017/11/27 17:00","2017/11/27 18:00","2017/11/27 19:00","2017/11/27 20:00","2017/11/27 21:00","2017/11/27 22:00","2017/11/27 23:00","2017/11/28 6:00","2017/11/28 7:00","2017/11/28 8:00","2017/11/28 9:00","2017/11/28 10:00","2017/11/28 11:00","2017/11/28 12:00","2017/11/28 13:00","2017/11/28 14:00","2017/11/28 15:00","2017/11/28 16:00","2017/11/28 17:00","2017/11/28 18:00","2017/11/28 19:00","2017/11/28 20:00","2017/11/28 21:00","2017/11/28 22:00","2017/11/28 23:00","2017/11/29 6:00","2017/11/29 7:00","2017/11/29 8:00","2017/11/29 9:00","2017/11/29 10:00","2017/11/29 11:00","2017/11/29 12:00","2017/11/29 13:00","2017/11/29 14:00","2017/11/29 15:00","2017/11/29 16:00","2017/11/29 17:00","2017/11/29 18:00","2017/11/29 19:00","2017/11/29 20:00","2017/11/29 21:00","2017/11/29 22:00","2017/11/29 23:00","2017/11/30 6:00","2017/11/30 7:00","2017/11/30 8:00","2017/11/30 9:00","2017/11/30 10:00","2017/11/30 11:00","2017/11/30 12:00","2017/11/30 13:00","2017/11/30 14:00","2017/11/30 15:00","2017/11/30 16:00","2017/11/30 17:00","2017/11/30 18:00","2017/11/30 19:00","2017/11/30 20:00","2017/11/30 21:00","2017/11/30 22:00","2017/11/30 23:00"];
if(date_index==30){
    time_line=time_line_yue;
}else{
    time_line=time_line_tian;
}
option = {
  title: {
            text: '上网流量情况',
             left: 'center',
            top:"2%",
         textStyle: {
            color:'#B2DFEE',
            textShadowColor:"#00a0ff",
            textShadowBlur:2,
         }
         },
    tooltip: {
        trigger: 'axis'
    },
    legend: {
        right:10,
        data:name,
    textStyle: {
           fontSize: getWidth() ,
           color:'#B2DFEE',
        }
    },
    color:["orange","#19A3FB"],
    grid: {
        left: '2%',
        right: '7%',
        bottom: '13%',
        containLabel: true
    },
    
    xAxis: {
        type: 'category',
        boundaryGap: false,
        data: time_line,
        axisLabel: {
                   textStyle: {
                    //color: '#DADADA',
                    color:'#B2DFEE',
                    textShadowColor:"#00a0ff",
                    textShadowBlur:2,
                    //fontSize:getWidth()
                 }   
                }, 
            axisLine: {
               lineStyle: {
               //color:'#DADADA',
               color:'#B2DFEE',
                textShadowColor:"#00a0ff",
                textShadowBlur:2,
                           width:'1'
               }
           },
    },
    yAxis: {
        type: 'value',
        name:"流量",
    nameTextStyle: {
           fontSize: getWidth()
        },
        axisLabel: {
                   textStyle: {
                    //color: '#DADADA',
                    color:'#B2DFEE',
                    textShadowColor:"#00a0ff",
                    textShadowBlur:2,
                    //fontSize:getWidth()
                 }   
                }, 
        axisLine: {
           lineStyle: {
           //color:'#DADADA',
           color:'#B2DFEE',
            textShadowColor:"#00a0ff",
            textShadowBlur:2,
                       width:'1'
           }
       } ,
    },
    dataZoom: [
            {
                show: true,
        height: '5%',
        bottom:'2%'
                
            },
            {
                type: 'inside',
            height: '5%'
                
            },
            // {
            //     show: true,
            //     yAxisIndex: 0,
            //     filterMode: 'empty',
            //     width: 30,
            //     //height: '80%',
            //     showDataShadow: false,
            //     left: '95%'
            // }
        ],
    series: seriesData
};

mylineChart.setOption(option,true)
});
});
}
